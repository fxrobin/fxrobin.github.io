<!DOCTYPE html>
<html lang="{{ page.lang }}">
  <head>
    {% include analytics.html %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% if page.title %}{{ page.title }} – {% endif %}CV</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style-cv-new.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/print-cv-new.css" media="print"/>

  </head>

  <body>
    
    <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold" href="/">
          <i class="fas fa-arrow-left me-2"></i>Retour au Blog
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#experience">Expérience</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#skills">Compétences</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="main-content">
      {{ content }}
    </main>

    <footer class="footer bg-light py-4 mt-5">
      <div class="container text-center">
        <p class="mb-0 text-muted">
          <i class="fas fa-heart text-danger"></i> Créé avec passion • 
          <a href="https://www.linkedin.com/in/fxrobin/" class="text-decoration-none">
            <i class="fab fa-linkedin text-primary"></i> François-Xavier Robin
          </a>
        </p>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Smooth scrolling and animations -->
    <script>
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Intersection Observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-in');
          }
        });
      }, observerOptions);

      // Observe all cards and sections
      document.addEventListener('DOMContentLoaded', function() {
        const elements = document.querySelectorAll('.card, .experience-item, .skill-category, .skills-card');
        elements.forEach(el => observer.observe(el));
      });

      // Add scroll effect to navbar
      window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 100) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });
    </script>

  </body>
</html>
